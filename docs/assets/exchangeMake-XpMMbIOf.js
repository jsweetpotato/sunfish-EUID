import"./tailwind-Jlr4NQan.js";import{C as m,c as i}from"./delay-YOOEtQ5Y.js";import{g as n,a as v}from"./getNode-pa7syr6m.js";const s=new m("https://suppose-weather.pockethost.io/"),b=n("#prev"),c=v("#tradeMethod > button"),l=n("#fileInput"),o=n("#finish"),w=n("#productTitle"),E=n("#Information"),k=n("#contentName");let r="";async function L({target:t}){c.forEach(e=>{e.style.backgroundColor="",e.style.color=""}),t.style.color="white",t.style.backgroundColor="#373F67",r=t.dataset.trade}let d="";const u=()=>{const t=[...l.files],e=document.getElementById("previewImg");t.length===0?e.style.display="none":(e.style.display="block",d=t[0],t.forEach(y=>{const a=new FileReader;a.readAsDataURL(y),a.onload=function(){e.src=a.result}}))};window.onload=u;let p="",f="",g="";const[N,I]=i({title:"작성 완료!",desc:"기기거래 페이지에서 확인해주세요!"});I.onclick=()=>{window.location.href="/src/pages/exchange/index.html"};const[h,V]=i({title:"작성 실패!",desc:"기기거래 글 등록에 실패하였습니다."});V.onclick=h.closing;async function M(){const t={title:p,description:f,tradingType:String(r),price:g,isPriceOffer:!0,productImages:d,user:s.authStore.model.id};o.classList.replace("bg-secondary","bg-contents-content-secondary"),o.disabled=!0;try{await s.collection("selling").create(t),N.showing()}catch{h.showing(),o.classList.replace("bg-contents-content-secondary","bg-secondary"),o.disabled=!1}}l.addEventListener("change",u);b.addEventListener("click",()=>history.back());c.forEach(t=>{t.addEventListener("click",L)});o.addEventListener("click",M);w.addEventListener("input",t=>{const e=t.target.value;e!==""&&isNaN(e)&&e.length<=24&&(p=e)});E.addEventListener("input",t=>{const e=t.target.value;e!==""&&isNaN(e)&&e.length<=24&&(f=e)});k.addEventListener("input",t=>{const e=t.target.value;e!==""&&isNaN(e)===!1&&e.length<=12&&(g=e)});
